
@{
    ViewData["Title"] = "First";
}

<h1>First Ajax Demo</h1>

<input type="button" class="btn btn-primary mb-3"  value="Ajax 開始" id="buttonStart"/>
<div class="alert  alert-info" id="divInfo"></div>

@section Scripts{
    <script>
        const btnStart = document.querySelector('#buttonStart');
        const divInfo = document.querySelector('#divInfo');

       

        btnStart.addEventListener('click',()=> {
                //以下是ajax程式
            fetch("/api/index")
                .then(response => {
                    console.log(response);
                    // console.log(response.text());
                    return response.text();//從body中取出文字資料
                })
                .then(data => {
                    console.log(data);
                    divInfo.innerHTML = `<h3>${data}</h3>`;
                })
            
        })
    </script>
}


@* 
//網址：https://localhost:7070/home/first *@